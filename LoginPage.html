<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="style.css">
        <meta name="viewpoint" content="width=device-width, initialscale=1.0"/>
        <meta charset="UTF-8">
    </head>
    <body>
        <div class="login-container">
            <div class="login-card">
                <header id="login-header">
                    <a href="LoginPage.html" class="LoginPage">
                        <img src="images/jacket.png" width="200" height="200">
                    </a> 
                    <h3 id="tagline">Wher you meet style that fit</h3>
                </header>

                <main id="login-main">
                    <form class="login-Form" id="loginform" novalidate>
                        <h2 id="form-title">WELCOME</h2>

                        <div id="form-group">
                            <label for="userEmailInput" class="form-label">Email Address</label>
                            <input
                                type="text"
                                id="userEmailInput"
                                class="form-input"
                                placeholder="Enter your email"
                                required
                                aria-errormessage="email-error"
                                >
                                <span id="email-error" class="email-message" role="alert"></span>
                        </div> 

                        <div id="form-group">
                            <label for="userPassworInput" class="form-label">Password</label>
                            <input
                                type="password"
                                id="usePasswordInput"
                                class="form-input"
                                placeholder="Enter your Password"
                                required
                                aria-errormessage="password-error"
                             >
                             <span id="email-error" class="email-message" role="alert"></span>

                        <div id="userMessage" class="message" role="alert" aria-live="polite"></div>

                         <button type="submit" class="submit-btn" id="submitBtn">
                                    <span class="btn-text">Sign In</span>
                                    <span class="btn-loader" aria-hidden="true"></span>
                         </button>

                         <div class="form-footer">
                            <a href="#" class="forgot-password">Forgot your password?</a>
                    </div>
                 </form>
                </main>
            </div>
        </div>

        <script>
            class checkUserCreds {
                constructor() {
                    this.form = document.getElementById('loginForm');
                    this.emailInput = document.getElementById('userEmailInput');
                    this.passwordInput = document.getElementById('userPasswordInput');
                    this.submitBtn = document.getElementById('submitBtn');
                    this.messageE1 = document.getElementById('userMessage');

                    this.init();
                }

                init() {
                   this.form.addEventListener('submit', (e) => this.handleSubmit(e));
                   this.emailInput.addEventListener('input', () => this.clearError('email'));
                   this.passwordInput.addEventListener('input', () => this.clearError('password')); 
                }

                async handleSubmit(e) {
                    e.preventDefault();

                    if(!this.validateForm()) {
                        return;
                    }

                    this.setLoading(true);

                    try {
                        await this.verifyUser();
                    } catch (error) {
                        this.showMessage('error occurred. please try again','error');
                    } finally {
                        this.setLoading(false);
                    }
                }

                validateForm() {
                    let isValid =true;

                    //Email validation
                    const email = this.emailInput.value.trim();
                    if (!email) {
                        this.showError('email', 'Email is required');
                        isValid = false;
                    } else if (!this.isValidEmail(email)) {
                        this.showError('email', 'Please enter valid email address');
                        isValid = false;
                    }

                    //Pasword validation
                    
                }
            }
        </script>
       